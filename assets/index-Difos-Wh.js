import{G as N,x as j,y as b,r as D,l as L,j as s,k as R,h as y,m as B,n as v,K as x,M as G}from"./index-NT2wBZmo.js";const Y=l=>N.get("/delete-application",{params:l}),k=l=>N.delete(`/delete-application/${l}`),A={getData:Y,deleteData:k},T=j(l=>({isLoading:!1,isLoadingGet:!1,isLoadingDelete:!1,errorMessage:"",successMessage:"",deleteApplicationData:null,getData:async u=>{var c,r,d,m;try{l({isLoadingGet:!0});const{data:a}=await A.getData(u),n=a;l({deleteApplicationData:n==null?void 0:n.data,isLoadingGet:!1})}catch(a){const{error:n}=b.getState();l({errorMessage:((r=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:r.message)??(a==null?void 0:a.message),isLoadingGet:!1}),n(((m=(d=a==null?void 0:a.response)==null?void 0:d.data)==null?void 0:m.message)??a.message)}},deleteData:async(u,c)=>{var r,d,m,a,n,g;try{l({isLoadingDelete:!0});const{data:t}=await A.deleteData(u),o=t;l({deleteApplicationData:o==null?void 0:o.data,successMessage:((d=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:d.message)??(t==null?void 0:t.message),isLoadingDelete:!1}),c&&c()}catch(t){const{error:o}=b.getState();l({errorMessage:((a=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:a.message)??(t==null?void 0:t.message),isLoadingDelete:!1}),o(((g=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:g.message)??t.message)}}})),K=()=>{const{getData:u,deleteApplicationData:c,isLoadingGet:r,deleteData:d,isLoadingDelete:m}=T(e=>e),[a,n]=D.useState(!1),g={search:"",page:1,limit:10,fromDate:null,toDate:null,sortBy:"createdAt",sortOrder:"DESC",isExcelExport:"false"},[t,o]=D.useState(g),M={total:5,data:[{id:1,referenceNo:"REF-0001",name:"Arun Kumar",gender:"Male",dob:"1996-08-12",passportNo:"N1234567",status:"Deleted",actionBy:"Admin",actionOn:"2025-01-10T09:30:00Z"},{id:2,referenceNo:"REF-0002",name:"Nisha Thomas",gender:"Female",dob:"1998-03-22",passportNo:"P7654321",status:"Deleted",actionBy:"Operator",actionOn:"2025-02-14T12:15:00Z"},{id:3,referenceNo:"REF-0003",name:"Sameer Ali",gender:"Male",dob:"1994-11-05",passportNo:"M9081726",status:"Deleted",actionBy:"Admin",actionOn:"2025-03-05T08:45:00Z"},{id:4,referenceNo:"REF-0004",name:"Maria Joseph",gender:"Female",dob:"1999-01-18",passportNo:"A1122334",status:"Deleted",actionBy:"Supervisor",actionOn:"2025-03-20T10:00:00Z"},{id:5,referenceNo:"REF-0005",name:"Rohit Sharma",gender:"Male",dob:"1992-06-30",passportNo:"K5566778",status:"Deleted",actionBy:"Admin",actionOn:"2025-04-02T11:20:00Z"}]};D.useEffect(()=>{},[t,!0,u]);const S=e=>{o(i=>({...i,sortBy:e,sortOrder:i.sortOrder==="ASC"?"DESC":"ASC"}))},C=e=>s.jsxs(s.Fragment,{children:[s.jsx(G,{id:`retrieve-${e==null?void 0:e.id}`,place:"bottom",content:"Retrieve",style:{backgroundColor:"#051a53"}}),s.jsx("button",{type:"button",className:"btn btn-link p-0","data-tooltip-id":`retrieve-${e==null?void 0:e.id}`,onClick:()=>n(e),style:{textDecoration:"none"},children:"Retrieve"})]}),F=[{name:"Reference No",selector:"referenceNo",sortable:!0,sortField:"referenceNo"},{name:"Name",selector:"name",sortable:!0,sortField:"name"},{name:"Gender",selector:"gender",sortable:!0,sortField:"gender"},{name:"Date of Birth",selector:"dob",sortable:!0,sortField:"dob",cell:e=>s.jsx("span",{children:e!=null&&e.dob?x(e==null?void 0:e.dob):"-"})},{name:"Passport No",selector:"passportNo",sortable:!0,sortField:"passportNo"},{name:"Status / By, On",selector:"status",sortable:!0,sortField:"status",cell:e=>s.jsxs("div",{className:"d-flex flex-column",children:[s.jsx("span",{children:s.jsx("b",{children:(e==null?void 0:e.status)||"-"})}),s.jsxs("small",{className:"text-muted",children:[e!=null&&e.actionBy?`By: ${e.actionBy}`:"By: -"," ",e!=null&&e.actionOn?`â€¢ On: ${x(e.actionOn)}`:""]})]})},{name:"Action",contentClass:"action-wrap",disableViewClick:!0,thclass:"actions-edit employee-actn-edit",cell:e=>C(e)}],f=D.useMemo(()=>L.debounce(e=>{o(i=>({...i,search:e,page:1}))},500),[]);D.useEffect(()=>()=>f.cancel(),[f]);const E=()=>{{n(!1);return}},p=M;return s.jsxs(s.Fragment,{children:[s.jsx(R,{hideFilter:!0,onSearch:f,submitFilter:e=>{const{fromDate:i,toDate:h,...O}=e;o({...t,...O,fromDate:i?y(i).format("YYYY-MM-DD"):null,toDate:h?y(h).format("YYYY-MM-DD"):null,page:1})},clearOptions:()=>o(g)}),s.jsx(B,{pagination:{currentPage:t.page,limit:t.limit},count:(p==null?void 0:p.total)||0,columns:F,data:(p==null?void 0:p.data)||[],isLoading:!1,onPageChange:e=>o({...t,page:e}),setLimit:e=>o({...t,limit:e}),onSortChange:S,wrapClasses:"inventory-table-wrap"}),a&&s.jsx(v,{showModal:a,closeModal:()=>n(!1),isLoading:!1,message:`Are you sure you want to retrieve ${a==null?void 0:a.name}?`,onCancel:()=>n(!1),onSubmit:E})]})};export{K as default};
