import{u as L,s as T,r as d,j as e,C as Z,o as Y,b as v,c as P,l as O,k as B,h as N,m as I,n as V,O as q,M as A,q as H,p as R}from"./index-CYvW9AeG.js";import{u as S}from"./CenterReducer-iYzjhLZS.js";const G=Y({name:P().nonempty("Name is required").max(20,"Name must be 10 characters or less"),isEZPass:v().optional()});function $({showModal:t,closeModal:u,onRefreshCenter:g}){const{register:j,handleSubmit:D,formState:{errors:n},setValue:r,reset:p}=L({resolver:T(G),defaultValues:{name:"",isEZPass:!1}}),{postData:l,patchData:f,isLoading:s}=S(o=>o);d.useEffect(()=>{t!=null&&t.id?(r("name",(t==null?void 0:t.name)||""),r("isEZPass",(t==null?void 0:t.isEZPass)||!1)):p()},[t==null?void 0:t.id]);const i=o=>{t!=null&&t.id?f({id:t.id,...o},()=>{g()}):l(o,()=>{g()}),u()},x=()=>e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"modal-title",children:t!=null&&t.id?"Edit Center":"Add Center"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:u})]}),C=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-body custom-scroll",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",id:"name",className:"form-control",autoComplete:"off",maxLength:20,...j("name")}),n.name&&e.jsx("span",{className:"error",children:n.name.message})]})})})})}),b=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-footer bottom-btn-sec",children:[e.jsx("button",{type:"button",className:"btn btn-cancel",onClick:u,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-submit",disabled:s,onClick:D(i),children:s?"Loading...":"Save"})]})});return e.jsx(Z,{className:"modal fade category-mgmt-modal show",dialgName:"modal-dialog-scrollable",show:!!t,closeModal:u,body:C(),header:x(),footer:b(),isLoading:!1})}const Q=()=>{const{getData:t,centerData:u,isLoadingGet:g,deleteData:j,isLoadingDelete:D}=S(a=>a),[n,r]=d.useState(!1),[p,l]=d.useState(!1),f={search:"",page:1,limit:10,fromDate:null,toDate:null,sortBy:"createdAt",sortOrder:"DESC",isExcelExport:"false"},[s,i]=d.useState(f),x={total:5,data:[{id:1,name:"Center 1",createdAt:"2025-01-10T09:30:00Z"},{id:2,name:"Monitors",createdAt:"2025-02-14T12:15:00Z"},{id:3,name:"Center 3",createdAt:"2025-03-05T08:45:00Z"},{id:4,name:"Center 4",createdAt:"2025-03-20T10:00:00Z"},{id:5,name:"Center 5",createdAt:"2025-04-02T11:20:00Z"}]},C=()=>{l(!1),r(!1)};d.useEffect(()=>{},[s]);const b=a=>{i(c=>({...c,sortBy:a,sortOrder:c.sortOrder==="ASC"?"DESC":"ASC"}))},o=a=>e.jsxs(e.Fragment,{children:[e.jsx(A,{id:"edit",place:"bottom",content:"Edit",style:{backgroundColor:"#051a53"}}),e.jsx(A,{id:"delete",place:"bottom",content:"Delete",style:{backgroundColor:"#051a53"}}),e.jsx("img",{src:H,alt:"edit","data-tooltip-id":"edit",onClick:()=>l(a)}),e.jsx("img",{src:R,alt:"delete","data-tooltip-id":"delete",onClick:()=>r(a)})]}),E=[{name:"Center Name",selector:"name",contentClass:"user-pic"},{name:"Center Created Date",selector:"createdAt",cell:a=>e.jsx("span",{children:q(a==null?void 0:a.createdAt)})},{name:"Action",contentClass:"action-wrap",disableViewClick:!0,thclass:"actions-edit employee-actn-edit",cell:a=>o(a)}],h=d.useMemo(()=>O.debounce(a=>{i(c=>({...c,search:a,page:1}))},500),[]),k=()=>{{r(!1);return}},m=x;return e.jsxs(e.Fragment,{children:[e.jsx(B,{addButton:{name:"Add Item",type:"button",action:()=>l(!0)},hideFilter:!0,onSearch:h,submitFilter:a=>{const{fromDate:c,toDate:y,...F}=a;i({...s,...F,fromDate:c?N(c).format("YYYY-MM-DD"):null,toDate:y?N(y).format("YYYY-MM-DD"):null,page:1})},clearOptions:()=>{i(f)}}),e.jsx(I,{pagination:{currentPage:s.page,limit:s.limit},count:(m==null?void 0:m.total)||0,columns:E,data:(m==null?void 0:m.data)||[],isLoading:!1,onPageChange:a=>i({...s,page:a}),setLimit:a=>i({...s,limit:a}),onSortChange:b,wrapClasses:"inventory-table-wrap"}),p&&e.jsx($,{showModal:p,closeModal:()=>l(!1),onRefreshCenter:C}),n&&e.jsx(V,{isDelete:!0,isLoading:!1,showModal:n,closeModal:()=>r(!1),message:`Are you sure you want to delete this ${n==null?void 0:n.name}?`,onCancel:()=>r(!1),onSubmit:k})]})};export{Q as default};
