import{b as L,r as d,j as e,n as T,l as Z,e as Y,h as N,f as v,g as P,K as B,M as A,i as O}from"./index-HOmjZ3KE.js";import{e as I}from"./edit-iaQC2oZw.js";import{u as S}from"./CenterReducer-BsVhnSMI.js";import{s as V,o as H,b as R,a as q}from"./zod-BfLuoEp2.js";const G=H({name:q().nonempty("Name is required").max(20,"Name must be 10 characters or less"),isEZPass:R().optional()});function K({showModal:t,closeModal:u,onRefreshCenter:g}){const{register:j,handleSubmit:D,formState:{errors:n},setValue:r,reset:f}=L({resolver:V(G),defaultValues:{name:"",isEZPass:!1}}),{postData:o,patchData:p,isLoading:s}=S(l=>l);d.useEffect(()=>{t!=null&&t.id?(r("name",(t==null?void 0:t.name)||""),r("isEZPass",(t==null?void 0:t.isEZPass)||!1)):f()},[t==null?void 0:t.id]);const i=l=>{t!=null&&t.id?p({id:t.id,...l},()=>{g()}):o(l,()=>{g()}),u()},x=()=>e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"modal-title",children:t!=null&&t.id?"Edit Center":"Add Center"}),e.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:u})]}),b=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-body custom-scroll",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",id:"name",className:"form-control",autoComplete:"off",maxLength:20,...j("name")}),n.name&&e.jsx("span",{className:"error",children:n.name.message})]})})})})}),C=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-footer bottom-btn-sec",children:[e.jsx("button",{type:"button",className:"btn btn-cancel",onClick:u,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-submit",disabled:s,onClick:D(i),children:s?"Loading...":"Save"})]})});return e.jsx(T,{className:"modal fade category-mgmt-modal show",dialgName:"modal-dialog-scrollable",show:!!t,closeModal:u,body:b(),header:x(),footer:C(),isLoading:!1})}const W=()=>{const{getData:t,centerData:u,isLoadingGet:g,deleteData:j,isLoadingDelete:D}=S(a=>a),[n,r]=d.useState(!1),[f,o]=d.useState(!1),p={search:"",page:1,limit:10,fromDate:null,toDate:null,sortBy:"createdAt",sortOrder:"DESC",isExcelExport:"false"},[s,i]=d.useState(p),x={total:5,data:[{id:1,name:"Center 1",createdAt:"2025-01-10T09:30:00Z"},{id:2,name:"Monitors",createdAt:"2025-02-14T12:15:00Z"},{id:3,name:"Center 3",createdAt:"2025-03-05T08:45:00Z"},{id:4,name:"Center 4",createdAt:"2025-03-20T10:00:00Z"},{id:5,name:"Center 5",createdAt:"2025-04-02T11:20:00Z"}]},b=()=>{o(!1),r(!1)};d.useEffect(()=>{},[s]);const C=a=>{i(c=>({...c,sortBy:a,sortOrder:c.sortOrder==="ASC"?"DESC":"ASC"}))},l=a=>e.jsxs(e.Fragment,{children:[e.jsx(A,{id:"edit",place:"bottom",content:"Edit",style:{backgroundColor:"#051a53"}}),e.jsx(A,{id:"delete",place:"bottom",content:"Delete",style:{backgroundColor:"#051a53"}}),e.jsx("img",{src:I,alt:"edit","data-tooltip-id":"edit",onClick:()=>o(a)}),e.jsx("img",{src:O,alt:"delete","data-tooltip-id":"delete",onClick:()=>r(a)})]}),E=[{name:"Center Name",selector:"name",contentClass:"user-pic"},{name:"Center Created Date",selector:"createdAt",cell:a=>e.jsx("span",{children:B(a==null?void 0:a.createdAt)})},{name:"Action",contentClass:"action-wrap",disableViewClick:!0,thclass:"actions-edit employee-actn-edit",cell:a=>l(a)}],h=d.useMemo(()=>Z.debounce(a=>{i(c=>({...c,search:a,page:1}))},500),[]),k=()=>{{r(!1);return}},m=x;return e.jsxs(e.Fragment,{children:[e.jsx(Y,{addButton:{name:"Add Item",type:"button",action:()=>o(!0)},hideFilter:!0,onSearch:h,submitFilter:a=>{const{fromDate:c,toDate:y,...F}=a;i({...s,...F,fromDate:c?N(c).format("YYYY-MM-DD"):null,toDate:y?N(y).format("YYYY-MM-DD"):null,page:1})},clearOptions:()=>{i(p)}}),e.jsx(v,{pagination:{currentPage:s.page,limit:s.limit},count:(m==null?void 0:m.total)||0,columns:E,data:(m==null?void 0:m.data)||[],isLoading:!1,onPageChange:a=>i({...s,page:a}),setLimit:a=>i({...s,limit:a}),onSortChange:C,wrapClasses:"inventory-table-wrap"}),f&&e.jsx(K,{showModal:f,closeModal:()=>o(!1),onRefreshCenter:b}),n&&e.jsx(P,{isDelete:!0,isLoading:!1,showModal:n,closeModal:()=>r(!1),message:`Are you sure you want to delete this ${n==null?void 0:n.name}?`,onCancel:()=>r(!1),onSubmit:k})]})};export{W as default};
