import{G as A,y as v,z as b,u as Y,s as G,r as j,j as t,C as P,o as O,b as B,c as R,l as V,k as $,h as S,m as q,n as H,O as I,M as h,q as z,p as J}from"./index-jAqGMMo8.js";const K=s=>A.post("/application-type",s),Q=(s,m)=>A.put(`/application-type/${s}`,m),U=s=>A.get("/application-type",{params:s}),W=s=>A.delete(`/application-type/${s}`),C={postData:K,patchData:Q,getData:U,deleteData:W},N=v(s=>({isLoading:!1,isLoadingGet:!1,isLoadingDelete:!1,errorMessage:"",successMessage:"",applicationTypeList:null,postData:async(m,d)=>{var g,u,o,a,l,p,n,i;try{s({isLoading:!0});const{data:e}=await C.postData(m),{success:y}=b.getState();y(((u=(g=e==null?void 0:e.response)==null?void 0:g.data)==null?void 0:u.message)??(e==null?void 0:e.message)),s({successMessage:((a=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:a.message)??(e==null?void 0:e.message),isLoading:!1}),d&&d()}catch(e){const{error:y}=b.getState();s({errorMessage:((p=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:p.message)??(e==null?void 0:e.message),isLoading:!1}),y(((i=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:i.message)??e.message)}},patchData:async(m,d)=>{var g,u,o,a,l,p,n,i;try{s({isLoading:!0});const{id:e,...y}=m,{data:r}=await C.patchData(e,y),{success:L}=b.getState();L(((u=(g=r==null?void 0:r.response)==null?void 0:g.data)==null?void 0:u.message)??(r==null?void 0:r.message)),d&&d(),s({successMessage:((a=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:a.message)??(r==null?void 0:r.message),isLoading:!1})}catch(e){const{error:y}=b.getState();s({errorMessage:((p=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:p.message)??(e==null?void 0:e.message),isLoading:!1}),y(((i=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:i.message)??e.message)}},getData:async m=>{var d,g,u,o;try{s({isLoadingGet:!0});const{data:a}=await C.getData(m),l=a;s({applicationTypeList:l==null?void 0:l.data,isLoadingGet:!1})}catch(a){const{error:l}=b.getState();s({errorMessage:((g=(d=a==null?void 0:a.response)==null?void 0:d.data)==null?void 0:g.message)??(a==null?void 0:a.message),isLoadingGet:!1}),l(((o=(u=a==null?void 0:a.response)==null?void 0:u.data)==null?void 0:o.message)??a.message)}},deleteData:async(m,d)=>{var g,u,o,a,l,p;try{s({isLoadingDelete:!0});const{data:n}=await C.deleteData(m),i=n;s({applicationTypeList:i==null?void 0:i.data,successMessage:((u=(g=n==null?void 0:n.response)==null?void 0:g.data)==null?void 0:u.message)??(n==null?void 0:n.message),isLoadingDelete:!1}),d&&d()}catch(n){const{error:i}=b.getState();s({errorMessage:((a=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:a.message)??(n==null?void 0:n.message),isLoadingDelete:!1}),i(((p=(l=n==null?void 0:n.response)==null?void 0:l.data)==null?void 0:p.message)??n.message)}}})),X=O({name:R().nonempty("Name is required").max(20,"Name must be 10 characters or less"),isEZPass:B().optional()});function _({showModal:s,closeModal:m,onRefreshApplicationType:d}){const{register:g,handleSubmit:u,formState:{errors:o},setValue:a,reset:l}=Y({resolver:G(X),defaultValues:{name:"",isEZPass:!1}}),{postData:p,patchData:n,isLoading:i}=N(x=>x);j.useEffect(()=>{s!=null&&s.id?(a("name",(s==null?void 0:s.name)||""),a("isEZPass",(s==null?void 0:s.isEZPass)||!1)):l()},[s==null?void 0:s.id]);const e=x=>{s!=null&&s.id?n({id:s.id,...x},()=>{d()}):p(x,()=>{d()}),m()},y=()=>t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"modal-title",children:s!=null&&s.id?"Edit Type":"Add Type"}),t.jsx("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:m})]}),r=()=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"modal-body custom-scroll",children:t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name",t.jsx("span",{className:"text-danger",children:"*"})]}),t.jsx("input",{type:"text",id:"name",className:"form-control",autoComplete:"off",maxLength:20,...g("name")}),o.name&&t.jsx("span",{className:"error",children:o.name.message})]})})})})}),L=()=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"modal-footer bottom-btn-sec",children:[t.jsx("button",{type:"button",className:"btn btn-cancel",onClick:m,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-submit",disabled:i,onClick:u(e),children:i?"Loading...":"Save"})]})});return t.jsx(P,{className:"modal fade category-mgmt-modal show",dialgName:"modal-dialog-scrollable",show:!!s,closeModal:m,body:r(),header:y(),footer:L(),isLoading:!1})}const ee=()=>{const{getData:s,applicationTypeList:m,isLoadingGet:d,deleteData:g,isLoadingDelete:u}=N(c=>c),[o,a]=j.useState(!1),[l,p]=j.useState(!1),n={search:"",page:1,limit:10,fromDate:null,toDate:null,sortBy:"createdAt",sortOrder:"DESC",isExcelExport:"false"},[i,e]=j.useState(n),y={total:5,data:[{id:1,name:"Application Type 1",createdAt:"2025-01-10T09:30:00Z"},{id:2,name:"Application Type 2",createdAt:"2025-02-14T12:15:00Z"},{id:3,name:"Application Type 3",createdAt:"2025-03-05T08:45:00Z"},{id:4,name:"Application Type 4",createdAt:"2025-03-20T10:00:00Z"},{id:5,name:"Application Type 5",createdAt:"2025-04-02T11:20:00Z"}]},r=()=>{p(!1),a(!1)};j.useEffect(()=>{},[i]);const L=c=>{e(f=>({...f,sortBy:c,sortOrder:f.sortOrder==="ASC"?"DESC":"ASC"}))},x=c=>t.jsxs(t.Fragment,{children:[t.jsx(h,{id:"edit",place:"bottom",content:"Edit",style:{backgroundColor:"#051a53"}}),t.jsx(h,{id:"delete",place:"bottom",content:"Delete",style:{backgroundColor:"#051a53"}}),t.jsx("img",{src:z,alt:"edit","data-tooltip-id":"edit",onClick:()=>p(c)}),t.jsx("img",{src:J,alt:"delete","data-tooltip-id":"delete",onClick:()=>a(c)})]}),E=[{name:"Name",selector:"name",contentClass:"user-pic"},{name:"Created Date",selector:"createdAt",cell:c=>t.jsx("span",{children:I(c==null?void 0:c.createdAt)})},{name:"Action",contentClass:"action-wrap",disableViewClick:!0,thclass:"actions-edit employee-actn-edit",cell:c=>x(c)}],k=j.useMemo(()=>V.debounce(c=>{e(f=>({...f,search:c,page:1}))},500),[]),F=()=>{{a(!1);return}},D=y;return t.jsxs(t.Fragment,{children:[t.jsx($,{addButton:{name:"Add Type",type:"button",action:()=>p(!0)},hideFilter:!0,onSearch:k,submitFilter:c=>{const{fromDate:f,toDate:T,...Z}=c;e({...i,...Z,fromDate:f?S(f).format("YYYY-MM-DD"):null,toDate:T?S(T).format("YYYY-MM-DD"):null,page:1})},clearOptions:()=>{e(n)}}),t.jsx(q,{pagination:{currentPage:i.page,limit:i.limit},count:(D==null?void 0:D.total)||0,columns:E,data:(D==null?void 0:D.data)||[],isLoading:!1,onPageChange:c=>e({...i,page:c}),setLimit:c=>e({...i,limit:c}),onSortChange:L,wrapClasses:"inventory-table-wrap"}),l&&t.jsx(_,{showModal:l,closeModal:()=>p(!1),onRefreshApplicationType:r}),o&&t.jsx(H,{isDelete:!0,isLoading:!1,showModal:o,closeModal:()=>a(!1),message:`Are you sure you want to delete this ${o==null?void 0:o.name}?`,onCancel:()=>a(!1),onSubmit:F})]})};export{ee as default};
