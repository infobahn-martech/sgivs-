import{u as b,s as v,j as e,C as I,a as h,o as j,b as B,c as n,d as E,r as O,e as L,L as p,S as U}from"./index-B6NNw_D1.js";/* empty css               */const f=[{label:"Oman",value:"Oman"},{label:"UAE",value:"UAE"}],x=[{label:"Salalah",value:"Salalah"},{label:"Sohar",value:"Sohar"},{label:"Ibri",value:"Ibri"},{label:"Ibra",value:"Ibra"},{label:"Nizwa",value:"Nizwa"},{label:"Sur",value:"Sur"},{label:"Buraimi",value:"Buraimi"},{label:"Duqm",value:"Duqm"},{label:"Khasab",value:"Khasab"},{label:"Muscat",value:"Muscat"},{label:"Barka",value:"Barka"}],g=[{label:"Counter 1",value:"1"},{label:"Counter 2",value:"2"},{label:"Counter 3",value:"3"}],q=j({username:n().nonempty("Username is required").max(50,"Max 50 characters"),password:n().nonempty("Password is required").min(6,"Password must be at least 6 characters"),country:n().nonempty("Country is required"),center:n().nonempty("Center is required"),counterId:n().nonempty("Counter is required"),isBackOfficeStaff:B().optional()});function R({showModal:m,closeModal:a,onRefreshSignUp:t}){const{register:u,handleSubmit:c,formState:{errors:l},setValue:o,reset:r,watch:i}=b({resolver:v(q),defaultValues:{username:"",password:"",country:"",center:"",counterId:"",isBackOfficeStaff:!1},mode:"onSubmit"}),d=i("country"),N=i("center"),y=i("counterId"),w=i("isBackOfficeStaff"),S=s=>{{onRefreshCounter==null||onRefreshCounter(),a==null||a(),r();return}},C=()=>e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"modal-title",children:"Sign Up"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{a==null||a(),r()}})]}),_=()=>e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group forms-custom",children:[e.jsxs("label",{className:"label",children:["Username",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter username",...u("username")}),l.username&&e.jsx("span",{className:"error",children:l.username.message})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group forms-custom",children:[e.jsxs("label",{className:"label",children:["Password",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"password",className:"form-control",placeholder:"Enter password",...u("password")}),l.password&&e.jsx("span",{className:"error",children:l.password.message})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group forms-custom",children:[e.jsxs("label",{className:"label",children:["Country",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(h,{options:f,value:f.find(s=>s.value===d)||null,onChange:s=>o("country",(s==null?void 0:s.value)||""),placeholder:"Select Country",showIndicator:!1,className:"form-select form-control"}),l.country&&e.jsx("span",{className:"error",children:l.country.message})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group forms-custom",children:[e.jsxs("label",{className:"label",children:["Center",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(h,{options:x,value:x.find(s=>s.value===N)||null,onChange:s=>o("center",(s==null?void 0:s.value)||""),placeholder:"Select Center",showIndicator:!1,className:"form-select form-control"}),l.center&&e.jsx("span",{className:"error",children:l.center.message})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-group forms-custom",children:[e.jsxs("label",{className:"label",children:["Counter",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(h,{options:g,value:g.find(s=>s.value===y)||null,onChange:s=>o("counterId",(s==null?void 0:s.value)||""),placeholder:"Select Counter",showIndicator:!1,className:"form-select form-control"}),l.counterId&&e.jsx("span",{className:"error",children:l.counterId.message})]})}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"form-group forms-custom",children:e.jsxs("div",{className:"form-check mt-2",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"isBackOfficeStaff",checked:!!w,onChange:s=>o("isBackOfficeStaff",s.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"isBackOfficeStaff",children:"Sign in as back office staff"})]})})})]})}),k=()=>e.jsxs("div",{className:"modal-footer bottom-btn-sec signup-btn-sec",children:[e.jsx("button",{type:"button",className:"btn btn-cancel",onClick:()=>{a==null||a(),r()},children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-submit",onClick:c(S),disabled:!1,children:"Save"})]});return e.jsx(I,{className:"modal fade show",dialgName:"modal-dialog-scrollable",show:!!m,closeModal:()=>{a==null||a(),r()},body:_(),header:C(),footer:k(),isLoading:!1})}const F=j({email:n().nonempty("Email is required").email("Invalid email format"),password:n().nonempty("Password is required")}),T=()=>{const m=E(),[a,t]=O.useState(!1),{login:u,isLoginLoading:c}=L(d=>d),{register:l,handleSubmit:o,formState:{errors:r}}=b({resolver:v(F),mode:"onSubmit"}),i=d=>{m("/")};return e.jsxs("div",{className:"user-log-wrp login-v2",children:[e.jsxs("div",{className:"inner-wrp login-v2__inner",children:[e.jsx("div",{className:"panel-left login-v2__left","aria-hidden":"true",children:e.jsxs("div",{className:"login-v2__left-card",children:[e.jsx("div",{className:"login-v2__left-title",children:"Access Notice"}),e.jsx("div",{className:"login-v2__left-desc",children:"The access to Indian Consular Application CRM system is restricted to authorized personnel only. You are informed that its use must be limited only to the authorized users as mentioned in the security policy and all the access will be registered and logged."})]})}),e.jsxs("div",{className:"panel-right login-v2__right",children:[e.jsxs("div",{className:"form-wrp-center login login-v2__form-card",children:[e.jsxs("div",{className:"top-blk",children:[e.jsx("div",{className:"title",children:"Welcome Back"}),e.jsxs("div",{className:"desc",children:["Today is a new day. It's your day. You shape it.",e.jsx("br",{})," Sign in to start managing your projects."]})]}),e.jsx("form",{onSubmit:o(i),noValidate:!0,children:e.jsxs("div",{className:"form-sec-wrp",children:[e.jsxs("div",{className:`form-group ${r.email?"has-error":""}`,children:[e.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",type:"email",inputMode:"email",className:"form-control login-v2__input",placeholder:"Enter your email",autoComplete:"username","aria-invalid":!!r.email,"aria-describedby":r.email?"email-error":void 0,...l("email")}),r.email&&e.jsx("span",{className:"error",id:"email-error",role:"alert",children:r.email.message})]}),e.jsxs("div",{className:`form-group ${r.password?"has-error":""}`,children:[e.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",className:"form-control login-v2__input",placeholder:"Enter your password",autoComplete:"current-password","aria-invalid":!!r.password,"aria-describedby":r.password?"password-error":void 0,...l("password")}),r.password&&e.jsx("span",{className:"error",id:"password-error",role:"alert",children:r.password.message})]}),e.jsx("div",{className:"login-v2__actions",style:{textAlign:"right"},children:e.jsx(p,{className:"link login-v2__forgot",to:"/forgot-password",children:"Forgot Password?"})}),e.jsx("button",{className:"btn btn-rounded login-v2__btn",type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:"sm",as:"span",animation:"border",variant:"light","aria-hidden":"true",className:"custom-spinner"}),e.jsx("span",{style:{marginLeft:10},children:"Logging in..."})]}):"Login"}),e.jsxs("div",{className:"login-v2__signup",children:["Don’t have an account?"," ",e.jsx(p,{className:"signup-link",onClick:()=>t(!0),children:"Sign up"})]})]})})]}),e.jsx("footer",{className:"ftr login-v2__footer",children:e.jsx("p",{className:"copy",children:"© 2025 ALL RIGHTS RESERVED"})})]})]}),a&&e.jsx(R,{showModal:a,closeModal:()=>t(!1),onRefreshSignUp:()=>t(!1)})]})};export{T as default};
